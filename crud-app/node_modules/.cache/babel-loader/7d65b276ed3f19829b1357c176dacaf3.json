{"ast":null,"code":"import _defineProperty from\"C:/Users/Lenovo/front-end/crud-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Lenovo/front-end/crud-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/Lenovo/front-end/crud-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import*as yup from\"yup\";import'./signIn.css';import axios from'axios';import{useHistory}from'react-router-dom';//import { axiosWithAuth } from \"../utils/axiosWithAuth\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var schema=yup.object().shape({username:yup.string().required(\"Username is required\").min(4,\"name must be at least 4 characters\"),email:yup.string().email(\"Must be a valid email address.\").required(\"Email is required\"),password:yup.string().required(\"Password is required\").min(8,\"Password must be at least 8 characters and include both numbers and letters\")});export default function SignIn(){var _useState=useState({username:\"\",email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),signUpInput=_useState2[0],setSignUpInput=_useState2[1];var history=useHistory();var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),disabled=_useState4[0],setDisabled=_useState4[1];var _useState5=useState({username:\"\",email:\"\",password:\"\"}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],setErrors=_useState6[1];var setFormErrors=function setFormErrors(name,value){yup.reach(schema,name).validate(value).then(function(){return setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,\"\")));}).catch(function(err){return setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,err.errors[0])));});};var handleChange=function handleChange(event){setSignUpInput(_objectSpread(_objectSpread({},signUpInput),{},_defineProperty({},event.target.name,event.target.value)));var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormErrors(name,value);};var submit=function submit(event){event.preventDefault();var newUser={username:signUpInput.username,email:signUpInput.email,password:signUpInput.password};axios.post(\" https://reqres.in/api/users/register\",newUser).then(function(res){console.log(res.data);localStorage.setItem('id',res.data);history.push('/');}).catch(function(err){console.log(err);});};useEffect(function(){schema.isValid(signUpInput).then(function(valid){return setDisabled(!valid);});},[signUpInput]);return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row no-gutter\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-none d-md-flex col-md-4 col-lg-6 bg-image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8 col-lg-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"login d-flex align-items-center py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-9 col-lg-8 mx-auto\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"login-heading mb-4\",children:\"Welcome\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"error-message\",onSubmit:submit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-group\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"text\",name:\"username\",value:signUpInput.username,id:\"inputUserName\",className:\"form-control\",placeholder:\"Username\",required:true,autofocus:true}),/*#__PURE__*/_jsx(\"label\",{for:\"inputUserName\",children:\"Username\"}),/*#__PURE__*/_jsx(\"p\",{children:errors.username})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-group\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,type:\"email\",name:\"email\",value:signUpInput.email,id:\"inputEmail\",className:\"form-control\",placeholder:\"Email\",required:true,autofocus:true}),/*#__PURE__*/_jsx(\"label\",{for:\"inputEmail\",children:\"Email\"}),/*#__PURE__*/_jsx(\"p\",{children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-label-group\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:handleChange,name:\"password\",value:signUpInput.password,type:\"text\",id:\"inputPassword\",className:\"form-control\",placeholder:\"Password\",required:true}),/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",children:\"Password\"}),/*#__PURE__*/_jsx(\"p\",{children:errors.password})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-lg btn-warning btn-block btn-login text-uppercase font-weight-bold mb-2\",type:\"submit\",disabled:disabled,children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"small\",children:\"Already have an accout?\"}),/*#__PURE__*/_jsx(Link,{to:\"/sign-in\",children:/*#__PURE__*/_jsx(\"p\",{className:\"small\",children:\"Sign In\"})})]})]})]})})})})})]})});}","map":{"version":3,"sources":["C:/Users/Lenovo/front-end/crud-app/src/LoginComponents/SignUp.js"],"names":["React","useState","useEffect","Link","yup","axios","useHistory","schema","object","shape","username","string","required","min","email","password","SignIn","signUpInput","setSignUpInput","history","disabled","setDisabled","errors","setErrors","setFormErrors","name","value","reach","validate","then","catch","err","handleChange","event","target","submit","preventDefault","newUser","post","res","console","log","data","localStorage","setItem","push","isValid","valid"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport * as yup from \"yup\";\r\nimport './signIn.css';\r\nimport axios from 'axios';\r\nimport {useHistory} from 'react-router-dom';\r\n//import { axiosWithAuth } from \"../utils/axiosWithAuth\";\r\n\r\nconst schema = yup.object().shape({\r\n  username: yup\r\n    .string()\r\n    .required(\"Username is required\")\r\n    .min(4, \"name must be at least 4 characters\"),\r\n\r\n  email: yup\r\n    .string()\r\n    .email(\"Must be a valid email address.\")\r\n    .required(\"Email is required\"),\r\n\r\n  password: yup\r\n    .string()\r\n    .required(\"Password is required\")\r\n    .min(\r\n      8,\r\n      \"Password must be at least 8 characters and include both numbers and letters\"\r\n    ),\r\n});\r\n\r\nexport default function SignIn() {\r\n  const [signUpInput, setSignUpInput] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n  const history = useHistory();\r\n  const [disabled, setDisabled] = useState(true);\r\n\r\n  const [errors, setErrors] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const setFormErrors = (name, value) => {\r\n    yup\r\n      .reach(schema, name)\r\n      .validate(value)\r\n      .then(() => setErrors({ ...errors, [name]: \"\" }))\r\n      .catch((err) => setErrors({ ...errors, [name]: err.errors[0] }));\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setSignUpInput({ ...signUpInput, [event.target.name]: event.target.value });\r\n    const { name, value } = event.target;\r\n    setFormErrors(name, value);\r\n  };\r\n\r\n  const submit = (event) => {\r\n    event.preventDefault();\r\n    const newUser = {\r\n      username: signUpInput.username,\r\n      email: signUpInput.email,\r\n      password: signUpInput.password,\r\n    };\r\n\r\n   \r\n\r\n    axios\r\n      .post(\" https://reqres.in/api/users/register\", newUser)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        localStorage.setItem('id',res.data)\r\n        history.push('/')\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    schema.isValid(signUpInput).then((valid) => setDisabled(!valid));\r\n  }, [signUpInput]);\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row no-gutter\">\r\n        <div className=\"d-none d-md-flex col-md-4 col-lg-6 bg-image\"></div>\r\n        <div className=\"col-md-8 col-lg-6\">\r\n          <div className=\"login d-flex align-items-center py-5\">\r\n            <div className=\"container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-md-9 col-lg-8 mx-auto\">\r\n                  <h3 className=\"login-heading mb-4\">Welcome</h3>\r\n                  <form className=\"error-message\" onSubmit={submit}>\r\n                    <div className=\"form-label-group\">\r\n                      <input\r\n                        onChange={handleChange}\r\n                        type=\"text\"\r\n                        name=\"username\"\r\n                        value={signUpInput.username}\r\n                        id=\"inputUserName\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Username\"\r\n                        required\r\n                        autofocus\r\n                      />\r\n                      <label for=\"inputUserName\">Username</label>\r\n                      <p>{errors.username}</p>\r\n                    </div>\r\n\r\n                    <div className=\"form-label-group\">\r\n                      <input\r\n                        onChange={handleChange}\r\n                        type=\"email\"\r\n                        name=\"email\"\r\n                        value={signUpInput.email}\r\n                        id=\"inputEmail\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Email\"\r\n                        required\r\n                        autofocus\r\n                      />\r\n                      <label for=\"inputEmail\">Email</label>\r\n                      <p>{errors.email}</p>\r\n                    </div>\r\n\r\n                    <div className=\"form-label-group\">\r\n                      <input\r\n                        onChange={handleChange}\r\n                        name=\"password\"\r\n                        value={signUpInput.password}\r\n                        type=\"text\"\r\n                        id=\"inputPassword\"\r\n                        className=\"form-control\"\r\n                        placeholder=\"Password\"\r\n                        required\r\n                      />\r\n                      <label for=\"inputPassword\">Password</label>\r\n                      <p>{errors.password}</p>\r\n                    </div>\r\n\r\n                    <button\r\n                      className=\"btn btn-lg btn-warning btn-block btn-login text-uppercase font-weight-bold mb-2\"\r\n                      type=\"submit\"\r\n                      disabled={disabled}\r\n                    >\r\n                      Sign Up\r\n                    </button>\r\n                    <div className=\"text-center\">\r\n                      <h4 className=\"small\">Already have an accout?</h4>\r\n                      <Link to=\"/sign-in\">\r\n                        <p className=\"small\">Sign In</p>\r\n                      </Link>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}