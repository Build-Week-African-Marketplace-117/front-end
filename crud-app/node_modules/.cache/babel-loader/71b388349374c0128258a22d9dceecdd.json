{"ast":null,"code":"import _defineProperty from\"C:/Users/Lenovo/front-end/crud-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/Lenovo/front-end/crud-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"C:/Users/Lenovo/front-end/crud-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/Lenovo/front-end/crud-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/Lenovo/front-end/crud-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/Lenovo/front-end/crud-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import*as actions from\"../actions/marketActions\";import{bindActionCreators}from'redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MarketForm=/*#__PURE__*/function(_Component){_inherits(MarketForm,_Component);var _super=_createSuper(MarketForm);function MarketForm(){var _this;_classCallCheck(this,MarketForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state=_objectSpread({},_this.returnStateObj());_this.handleInputChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.handleSubmit=function(e){e.preventDefault();if(_this.props.currentIndex===-1)_this.props.insertItem(_this.state);else _this.props.updateItem(_this.state);};return _this;}_createClass(MarketForm,[{key:\"returnStateObj\",value:function returnStateObj(){if(this.props.currentIndex===-1)return{location:\"\",name:\"\",description:\"\",price:\"\"};else return this.props.list[this.props.currentIndex];}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.currentIndex!==this.props.currentIndex||prevProps.list.length!==this.props.list.length)this.setState(_objectSpread({},this.returnStateObj()));}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"location\",placeholder:\"location\",value:this.state.location,onChange:this.handleInputChange}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",placeholder:\"name\",value:this.state.name,onChange:this.handleInputChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"price\",placeholder:\"price\",value:this.state.price,onChange:this.handleInputChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"description\",placeholder:\"description\",value:this.state.description,onChange:this.handleInputChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add/Edit Item\"})]});}}]);return MarketForm;}(Component);var mapStateToProps=function mapStateToProps(state){return{list:state.list,currentIndex:state.currentIndex};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return bindActionCreators({insertItem:actions.INSERT_ITEM,updateItem:actions.UPDATE_ITEM},dispatch);};export default connect(mapStateToProps,mapDispatchToProps)(MarketForm);","map":{"version":3,"sources":["C:/Users/Lenovo/front-end/crud-app/src/components/MarketForm.js"],"names":["React","Component","connect","actions","bindActionCreators","MarketForm","state","returnStateObj","handleInputChange","e","setState","target","name","value","handleSubmit","preventDefault","props","currentIndex","insertItem","updateItem","location","description","price","list","prevProps","length","mapStateToProps","mapDispatchToProps","dispatch","INSERT_ITEM","UPDATE_ITEM"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport * as actions from \"../actions/marketActions\";\r\nimport {bindActionCreators} from 'redux'\r\n\r\nclass MarketForm extends Component {\r\n    state = {\r\n    ...this.returnStateObj()\r\n}\r\n    returnStateObj(){\r\n        if (this.props.currentIndex === -1)\r\n        return {\r\n         location:\"\",\r\n        name:\"\",\r\n        description:\"\",\r\n        price:\"\"\r\n\r\n        }\r\n        else\r\n         return this.props.list[this.props.currentIndex]\r\n    }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(prevProps.currentIndex !== this.props.currentIndex || prevProps.list.length !== this.props.list.length)\r\n        this.setState({...this.returnStateObj()})\r\n\r\n    }\r\n\r\n    handleInputChange = e =>{\r\n        this.setState({\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n    handleSubmit = e =>{\r\n        e.preventDefault()\r\n        if(this.props.currentIndex === -1)\r\n        this.props.insertItem(this.state)\r\n        else\r\n        this.props.updateItem(this.state)\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <form  onSubmit ={this.handleSubmit} autoComplete =\"off\" >\r\n                <input name=\"location\" placeholder=\"location\" value= {this.state.location} onChange= {this.handleInputChange}/> <br/>\r\n                <input name=\"name\" placeholder=\"name\" value= {this.state.name} onChange= {this.handleInputChange}/><br/>\r\n                 <input name=\"price\" placeholder=\"price\" value= {this.state.price} onChange= {this.handleInputChange}/><br/>\r\n                 <input name=\"description\" placeholder=\"description\" value= {this.state.description} onChange= {this.handleInputChange}/><br/>\r\n             <button type=\"submit\">Add/Edit Item</button>\r\n</form>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps = state => {\r\n    return {\r\n        list:state.list,\r\n        currentIndex:state.currentIndex\r\n    }\r\n}\r\n\r\n const mapDispatchToProps = (dispatch) => {\r\n    return bindActionCreators({\r\n        insertItem : actions.INSERT_ITEM,\r\n        updateItem:actions.UPDATE_ITEM \r\n    },dispatch)\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps) (MarketForm)"]},"metadata":{},"sourceType":"module"}